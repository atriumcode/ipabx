; ==================================================================
; CONFIGURAÇÃO PJSIP - PBX MODERNO ENTERPRISE
; Asterisk 20+ com suporte a PJSIP e Realtime
; ==================================================================

[global]
type=global
max_forwards=70
user_agent=PBX Moderno Enterprise
default_outbound_endpoint=default_outbound
disable_tcp_switch=yes
debug=no

; Transporte UDP
[transport-udp]
type=transport
protocol=udp
bind=0.0.0.0:5060
external_media_address=<SEU_IP_EXTERNO>
external_signaling_address=<SEU_IP_EXTERNO>
local_net=192.168.0.0/16
local_net=10.0.0.0/8

; Transporte TCP
[transport-tcp]
type=transport
protocol=tcp
bind=0.0.0.0:5060

; Transporte TLS
[transport-tls]
type=transport
protocol=tls
bind=0.0.0.0:5061
cert_file=/etc/asterisk/keys/asterisk.crt
priv_key_file=/etc/asterisk/keys/asterisk.key
cipher=ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256
method=tlsv1_2

; ACL para segurança
[acl]
type=acl
deny=0.0.0.0/0.0.0.0
permit=192.168.0.0/255.255.0.0
permit=10.0.0.0/255.0.0.0

; ==================================================================
; REALTIME - Configuração para carregar do banco de dados
; ==================================================================
; Os endpoints, auths e aors são carregados do PostgreSQL
; via extconfig.conf e sorcery.conf
